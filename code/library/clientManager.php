<?//Vishak Nair - 25/08/2012//for user managementif (strpos($_SERVER["SCRIPT_NAME"],basename(__FILE__)) !== false){	header("location: index.php");	exit();}require_once('Config.php');class ClientManager extends commonObject{		public $db_fields;		function ClientManager()		{			$this->db_fields = array();			}				function getAllClients($show='1')		{			if($show == 0)				$arr_orders =  getData("SELECT * From clients WHERE 1 order by status");			elseif($show == 1)				$arr_orders =  getData("SELECT * From clients WHERE status = 'Active'");			elseif($show == 2)				$arr_orders =  getData("SELECT * From clients WHERE status = 'Disabled'");			return $arr_orders;		}				function get_allcounts()		{			$arr_counts = array();			$all = getOne("SELECT COUNT(client_id) AS CNT From clients WHERE 1");			$arr_counts['all'] = $all;			$active = getOne("SELECT COUNT(client_id) AS CNT From clients WHERE status = 'Active'");			$arr_counts['active'] = $active;			$trash = getOne("SELECT COUNT(client_id) AS CNT From clients WHERE status = 'Disabled'");			$arr_counts['trash'] = $trash;			return $arr_counts;					}				function restore_client($id)		{			$change_data = array (									'status' => 'Active',																); 			$change_data['client_id'] = $id;			$updateQry=$this->getUpdateDataString($change_data,"clients","client_id");			updateData($updateQry);					}				/*function getAllClients()		{			return $resultSet = getData("SELECT * FROM `clients` where status='Active'");		}*/				function getAll($table_name="")		{			return $resultSet = getData("SELECT * FROM `".$table_name."` order by status");			}				function getClientById($client_id)		{			return $resultSet = getData("select client_name,client_biz_name from clients where client_id='".$client_id."'");		}				function getClientVariables()		{			$this->db_fields['client_biz_name'] = $_REQUEST['client_biz_name'];			$this->db_fields['client_name'] = $_REQUEST['client_name'];			$this->db_fields['client_email'] = $_REQUEST['client_email'];			$this->db_fields['client_phone'] = $_REQUEST['client_phone'];			$this->db_fields['address'] = $_REQUEST['address'];			$this->db_fields['city'] = $_REQUEST['city'];			$this->db_fields['state'] = $_REQUEST['state'];			$this->db_fields['country'] = $_REQUEST['country'];			$this->db_fields['zip'] = $_REQUEST['zip'];				$this->db_fields['status'] = $_REQUEST['status'];			$this->db_fields['remarks'] = $_REQUEST['remarks'];						//return $varArray;		}				function insertClient($clientArray)		{			$insertQry = getInsertDataString($clientArray, 'clients');			updateData($insertQry);			return mysql_insert_id();		}			function getClientDetails($user_id)	{		return $resultSet = getRow("select * from  clients where client_id='".$user_id."'");	}		function updateUsingId($clientArray)	{			$updateQry=getUpdateDataString($clientArray,"clients","client_id");			updateData($updateQry);	}		//To restrict duplicate in clients.	function isClientExist($client_biz_name,$client_name,$client_id=0){		$query="select * from clients where client_name='".$client_name."' and client_biz_name='".$client_biz_name."'";		if($client_id!=0){			$query.=" AND client_id!=".$client_id;		}		$resultSet = getData($query);		if(sizeof($resultSet)>0){			return true;		}else{			return false;		}	}		function delete($user_id,$table_name,$field_name)	{		updateData("UPDATE `".$table_name."` SET `status`='Disabled' WHERE `".$field_name."`='".$user_id."'");		}}?>